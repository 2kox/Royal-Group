<script>
    const cloudName = 'dyetbyoy3';
    const uploadPreset = 'ml_default';

    document.getElementById('uploadForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const fileInput = document.getElementById('fileInput');
        const file = fileInput.files[0];

        if (file) {
            const formData = new FormData();
            formData.append('file', file);
            formData.append('upload_preset', uploadPreset);

            axios.post(`https://api.cloudinary.com/v1_1/${cloudName}/image/upload`, formData)
                .then(response => {
                    const imageUrl = response.data.secure_url;
                    console.log('Image uploaded to:', imageUrl);
                    
                    // Redirect to gallery or notify to refresh the gallery
                    window.location.href = 'gallery.html';
                })
                .catch(error => {
                    console.error('Error uploading image:', error);
                });
        }
    });
</script>
